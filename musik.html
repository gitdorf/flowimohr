<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Musik – René Hamdorf</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="bg-animated"></div>
  <div class="nav-overlay"></div>

  <nav class="navbar">
    <a href="index.html" class="nav-logo">RH</a>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="blog.html">Blog</a></li>
      <li><a href="videos.html">Videos</a></li>
      <li><a href="musik.html">Musik</a></li>
      <li><a href="photos.html">Fotos</a></li>
      <li><a href="troots.html">Trööts</a></li>
      <li><a href="contact.html">Kontakt</a></li>
    </ul>
    <button class="nav-toggle" aria-label="Menü öffnen">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </nav>

  <header class="page-header fade-in">
    <h1>Musik</h1>
    <p>Meine Alben auf Funkwhale</p>
    <a href="https://funk.hamdorf.org/library/artists/2" target="_blank" rel="noopener noreferrer" class="funkwhale-link">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9 18V5l12-2v13"/>
        <circle cx="6" cy="18" r="3"/>
        <circle cx="18" cy="16" r="3"/>
      </svg>
      Alle Alben auf Funkwhale
    </a>
  </header>

  <main class="section musik-section">
    <div class="album-player fade-in">
      <div class="album-player-header">
        <img src="https://funk.hamdorf.org/media/__sized__/attachments/bb/54/b2/744838-e8f37386-ec57-4255-af7ec7285a7eaf8d-1525974184540-iro2-crop-c0-5__0-5-600x600-95.jpg" alt="Songs fuer die Andersbegabten – Cover" class="album-cover">
        <div class="album-info">
          <h2 class="album-title">Songs fuer die Andersbegabten</h2>
          <p class="album-artist">Rene Hamdorf</p>
          <p class="album-meta">2018 &middot; 6 Tracks</p>
        </div>
      </div>

      <div class="player-controls">
        <div class="player-now-playing">
          <span class="player-track-name">Kein Track ausgewählt</span>
        </div>
        <div class="player-progress-row">
          <span class="player-time player-current">0:00</span>
          <div class="player-progress" role="progressbar">
            <div class="player-progress-filled"></div>
          </div>
          <span class="player-time player-duration">0:00</span>
        </div>
        <div class="player-buttons">
          <button class="player-btn btn-prev" aria-label="Vorheriger Track">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6 8.5 6V6z"/></svg>
          </button>
          <button class="player-btn player-btn-play btn-play" aria-label="Abspielen">
            <svg class="icon-play" width="28" height="28" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
            <svg class="icon-pause" width="28" height="28" viewBox="0 0 24 24" fill="currentColor" style="display:none"><path d="M6 19h4V5H6zm8-14v14h4V5z"/></svg>
          </button>
          <button class="player-btn btn-next" aria-label="Nächster Track">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
          </button>
        </div>
      </div>

      <ol class="track-list">
        <li class="track-item" data-src="https://funk.hamdorf.org/api/v1/listen/4251e5f0-2962-465a-8f62-c66142fbfa20/" data-title="Die Distanz" data-duration="217">
          <span class="track-number">1</span>
          <span class="track-title">Die Distanz</span>
          <span class="track-duration">3:37</span>
        </li>
        <li class="track-item" data-src="https://funk.hamdorf.org/api/v1/listen/c26658ce-3ecd-4a29-83a8-c034e5af792d/" data-title="Alles Aendern" data-duration="208">
          <span class="track-number">2</span>
          <span class="track-title">Alles Aendern</span>
          <span class="track-duration">3:28</span>
        </li>
        <li class="track-item" data-src="https://funk.hamdorf.org/api/v1/listen/7dc30c76-c0b3-4f86-9076-50e7d1e46492/" data-title="alles geht" data-duration="213">
          <span class="track-number">3</span>
          <span class="track-title">alles geht</span>
          <span class="track-duration">3:33</span>
        </li>
        <li class="track-item" data-src="https://funk.hamdorf.org/api/v1/listen/3941f5ef-29f4-4837-afb4-5810d7ae73b4/" data-title="freigeben" data-duration="259">
          <span class="track-number">4</span>
          <span class="track-title">freigeben</span>
          <span class="track-duration">4:19</span>
        </li>
        <li class="track-item" data-src="https://funk.hamdorf.org/api/v1/listen/5092fcb8-bb56-49ab-bc90-8bd091daa27f/" data-title="ein gutes Jahr" data-duration="306">
          <span class="track-number">5</span>
          <span class="track-title">ein gutes Jahr</span>
          <span class="track-duration">5:06</span>
        </li>
        <li class="track-item" data-src="https://funk.hamdorf.org/api/v1/listen/f36c9470-d78f-4a57-8f85-6545b22c501d/" data-title="Schweden" data-duration="319">
          <span class="track-number">6</span>
          <span class="track-title">Schweden</span>
          <span class="track-duration">5:19</span>
        </li>
      </ol>
    </div>

    <div class="album-player fade-in">
      <div class="album-player-header">
        <img src="https://funk.hamdorf.org/media/__sized__/attachments/7a/2d/d0/744838-86f0b5a9-2e7e-4189-9d624452695f71e2-1575925319283-reeentale-crop-c0-5__0-5-600x600-95.jpg" alt="Songs fuer die Inselbegabten – Cover" class="album-cover">
        <div class="album-info">
          <h2 class="album-title">Songs fuer die Inselbegabten</h2>
          <p class="album-artist">Rene Hamdorf</p>
          <p class="album-meta">2019 &middot; 2 Tracks</p>
        </div>
      </div>

      <div class="player-controls">
        <div class="player-now-playing">
          <span class="player-track-name">Kein Track ausgewählt</span>
        </div>
        <div class="player-progress-row">
          <span class="player-time player-current">0:00</span>
          <div class="player-progress" role="progressbar">
            <div class="player-progress-filled"></div>
          </div>
          <span class="player-time player-duration">0:00</span>
        </div>
        <div class="player-buttons">
          <button class="player-btn btn-prev" aria-label="Vorheriger Track">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6 8.5 6V6z"/></svg>
          </button>
          <button class="player-btn player-btn-play btn-play" aria-label="Abspielen">
            <svg class="icon-play" width="28" height="28" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
            <svg class="icon-pause" width="28" height="28" viewBox="0 0 24 24" fill="currentColor" style="display:none"><path d="M6 19h4V5H6zm8-14v14h4V5z"/></svg>
          </button>
          <button class="player-btn btn-next" aria-label="Nächster Track">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
          </button>
        </div>
      </div>

      <ol class="track-list">
        <li class="track-item" data-src="https://funk.hamdorf.org/api/v1/listen/5894f3ac-79d9-45cc-ac29-9fb97c6cc563/" data-title="wie soll ich bloss heissen" data-duration="334">
          <span class="track-number">1</span>
          <span class="track-title">wie soll ich bloss heissen</span>
          <span class="track-duration">5:34</span>
        </li>
        <li class="track-item" data-src="https://funk.hamdorf.org/api/v1/listen/cc476477-1d63-4109-bc1f-c603ad8e13a0/" data-title="sich haeuten" data-duration="283">
          <span class="track-number">2</span>
          <span class="track-title">sich haeuten</span>
          <span class="track-duration">4:43</span>
        </li>
      </ol>
    </div>
  </main>

  <script>
  (function() {
    var players = document.querySelectorAll('.album-player');
    var activePlayer = null;

    function formatTime(s) {
      var m = Math.floor(s / 60);
      var sec = Math.floor(s % 60);
      return m + ':' + (sec < 10 ? '0' : '') + sec;
    }

    players.forEach(function(container) {
      var audio = new Audio();
      audio.preload = 'none';
      var tracks = container.querySelectorAll('.track-item');
      var btnPlay = container.querySelector('.btn-play');
      var btnPrev = container.querySelector('.btn-prev');
      var btnNext = container.querySelector('.btn-next');
      var iconPlay = btnPlay.querySelector('.icon-play');
      var iconPause = btnPlay.querySelector('.icon-pause');
      var progressBar = container.querySelector('.player-progress');
      var progressFilled = container.querySelector('.player-progress-filled');
      var currentTimeEl = container.querySelector('.player-current');
      var durationEl = container.querySelector('.player-duration');
      var trackNameEl = container.querySelector('.player-track-name');
      var currentIndex = -1;

      function updatePlayIcon() {
        if (audio.paused) {
          iconPlay.style.display = '';
          iconPause.style.display = 'none';
        } else {
          iconPlay.style.display = 'none';
          iconPause.style.display = '';
        }
      }

      function stopOtherPlayers() {
        if (activePlayer && activePlayer !== audio) {
          activePlayer.pause();
        }
        activePlayer = audio;
      }

      function loadTrack(index) {
        if (index < 0 || index >= tracks.length) return;
        stopOtherPlayers();
        tracks.forEach(function(t) { t.classList.remove('active'); });
        currentIndex = index;
        var track = tracks[index];
        track.classList.add('active');
        audio.src = track.dataset.src;
        trackNameEl.textContent = track.dataset.title;
        durationEl.textContent = formatTime(parseInt(track.dataset.duration));
        audio.play();
      }

      tracks.forEach(function(track, i) {
        track.addEventListener('click', function() { loadTrack(i); });
      });

      btnPlay.addEventListener('click', function() {
        if (currentIndex === -1) { loadTrack(0); return; }
        if (audio.paused) { stopOtherPlayers(); audio.play(); }
        else audio.pause();
      });

      btnPrev.addEventListener('click', function() {
        if (currentIndex > 0) loadTrack(currentIndex - 1);
      });

      btnNext.addEventListener('click', function() {
        if (currentIndex < tracks.length - 1) loadTrack(currentIndex + 1);
      });

      audio.addEventListener('play', updatePlayIcon);
      audio.addEventListener('pause', updatePlayIcon);

      audio.addEventListener('timeupdate', function() {
        if (!audio.duration) return;
        currentTimeEl.textContent = formatTime(audio.currentTime);
        progressFilled.style.width = (audio.currentTime / audio.duration * 100) + '%';
      });

      audio.addEventListener('loadedmetadata', function() {
        durationEl.textContent = formatTime(audio.duration);
      });

      audio.addEventListener('ended', function() {
        if (currentIndex < tracks.length - 1) loadTrack(currentIndex + 1);
        else updatePlayIcon();
      });

      progressBar.addEventListener('click', function(e) {
        if (!audio.duration) return;
        var rect = progressBar.getBoundingClientRect();
        audio.currentTime = ((e.clientX - rect.left) / rect.width) * audio.duration;
      });
    });
  })();
  </script>

  <footer class="footer">
    <div class="footer-links">
      <a href="datenschutz.html">Datenschutzerklärung</a>
    </div>
    <p>&copy; 2026 René Hamdorf. Alle Rechte vorbehalten.</p>
  </footer>

  <script src="js/main.js"></script>
</body>
</html>
